<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HIT Application</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Serif+Pro" rel="stylesheet">
    <link rel="stylesheet" href="../static/applicationstyle.css">
    <link rel="shortcut icon" href="../static/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="nav-bar">
        <span> <a href="{{url_for('home')}}"> <i class="material-icons md-48">arrow_back</i> </a> </span>
    </div>
    <center class="heading">
        <img src="../static/img/hitlogo1.png" alt="">
        <span> Harare Institute Of Technology Job Application Form </span>
    </center>
    <div class="wrapper">
        <form action="{{url_for('capture')}}" method=POST enctype="multipart/form-data">
          <div class="detail-group">
             <h3>Personal Information</h3>
             <div class="details">
                 <table>
                         <tr>
                             <td class="label"> <label for="firstname">Firstname: </label> </td>
                             <td class="input"> <input name="firstname" value="{{ request.form.firstname }}" type="text" required placeholder="John"> </td>
                         </tr>
                         <tr>
                             <td> <label for="surname">Surname: </label> </td>
                             <td> <input name="surname"  value="{{ request.form.surname }}" type="text" required placeholder="Doe"> </td>
                         </tr>
                         <tr>
                             <td> <label for="nationalid">National ID: </label> </td>
                             <td> <input name="nationalid" type="text" value="{{ request.form.nationalid }}" required placeholder="22-345345X234-P"> </td>
                         </tr>
                         <tr>
                             <td> <label for="DOB">Date Of Birth:</label> </td>
                             <td> <input name="DOB" value="{{ request.form.DOB }}" type="date" required> </td>
                         </tr>
                         <tr>
                             <td>  <label for="Sex">Sex:</label> </td>
                             <td>
                                 <select name="sex" value="{{ request.form.sex }}"  id="">
                                     <option value="Male">Male</option>
                                     <option value="Female">Female</option>
                                 </select>
                             </td>
                         </tr>
                 </table>
             </div>
         </div>
         <div class="detail-group">
                 <h3>Contact Information</h3>
                 <div class="details">
                     <table>
                         <tbody>
                             <tr>
                                 <td class="label"> <label for="email">Email: </label> </td>
                                 <td class="input"> <input type="email" name="mail" value="{{ request.form.mail}}"required placeholder="John@gmail.com"> </td>
                             </tr>
                             <tr>
                                 <td> <label for="phone1">Phone 1: </label> </td>
                                 <td>  <input type="text" name="phone1" value="{{ request.form.phone1}}" required placeholder="0772334661"> </td>
                             </tr>
                             <tr>
                                 <td> <label for="phone2">Phone 2: </label> </td>
                                 <td> <input type="text" name="phone2" value="{{ request.form.phone2}}" placeholder="0772334661"> </td>
                             </tr>
                             <tr>
                                 <td style="vertical-align: top"> <label for="address">Address:</label> </td>
                                 <td> <textarea name="address" value="{{ request.form.address }}" id="" cols="30" rows="6"></textarea> </td>
                             </tr>
                         </tbody>
                     </table>
                 </div>
         </div>
         <div class="detail-group">
                 <h3>Academic Qualification</h3>
                 <div class="details" id="qualification">
                         <div class="field" id="qfield">
                             <label for="qualification">Qualification: </label>
                             <input name="qualification1" type="text" value="{{ request.form.qualification }}" placeholder="5 O levels including English and Maths">
                             <label for="awardingInstitute">Awarding Institute: </label>
                             <input name="awardingInstitute"  value="{{ request.form.awardingInstitute }}" type="text" placeholder="ZIMSEC">
                             <label for="certificate">Attach Certificate:</label>
                             <input type="file" name="certificate" value="{{ request.form.certificate }}" id="" required>
                         </div>
                         <span class="button" id="addqualification" onclick="addQualificationField()">Add Another</span>
                         <span class="button" id="removequalification" onclick="removeQualificationField()">Remove</span>
                 </div>
         </div>
         <div class="detail-group">
                 <h3>Work Experience</h3>
                 <div class="details" id="workexperience">
                         <div class="field" id="wfield">
                             <label for="organisation">Organisation: </label>
                             <input name="organisation" id="organisation1" type="text"  placeholder="Harare Institute Of Technology">
                             <label for="position">Position: </label>
                             <input name="position" id="position1" type="text"  placeholder="Receptionist">
                             <label for="time-frame">Time Frame: </label>
                             <input name="timeframe" id="timeframe1" type="text"   placeholder="2000-2002">
                         </div>
                         <textarea style = "display:none" name="workexperience" id="workexperiences" cols="30" rows="10"></textarea>
                         <span class="button" id="add" onclick="addWorkExperienceField()">Add Another</span>
                         <span class="button" id="removeWorkExperienceField" onclick="removeWorkExperienceField()">Remove</span>
                 </div>
         </div>

         <button class="button submit-button" type="submit">Apply</button>

     </form>
 </div>
</body>

<script>
    // function to add dynamically add fields to work experience
    function addWorkExperienceField(){
        var button = document.getElementById('add')
        var workexperience = document.getElementById('workexperience')
        var fieldNumbers = workexperience.childElementCount - 3;
        textarea = document.getElementById('workexperiences')
        textarea.value = textarea.value + " \n " + document.getElementById('organisation' + fieldNumbers).value + ", " + document.getElementById('position' + fieldNumbers).value + ", " + document.getElementById('timeframe' + fieldNumbers).value
        fieldNumbers += 1
        var cloneElement = workexperience.firstElementChild.cloneNode(true)
        cloneElement.className = "field added"
        cloneElement.id = "wfield" + fieldNumbers
        cloneElement.childNodes[3].value = ""
        cloneElement.childNodes[7].value = ""
        cloneElement.childNodes[11].value = ""
        cloneElement.childNodes[3].id = "organisation" + fieldNumbers
        cloneElement.childNodes[7].id = "position" + fieldNumbers
        cloneElement.childNodes[11].id = "timeframe" + fieldNumbers

        workexperience.insertBefore(cloneElement,button)

    }
    // function to add dynamically add fields to qualifications
    function addQualificationField(){
        var button = document.getElementById('addqualification')
        var qualification = document.getElementById('qualification')
        var fieldNumbers = qualification.childElementCount - 1;
        var cloneElement = qualification.firstElementChild.cloneNode(true)
        cloneElement.className = "field added"
        cloneElement.id = "qfield" + fieldNumbers
        cloneElement.childNodes[3].value = ""
        cloneElement.childNodes[7].value = ""
        cloneElement.childNodes[11].value = ""
        cloneElement.childNodes[3].name = "qualification" + fieldNumbers
        cloneElement.childNodes[7].name = "awardingInstitute" + fieldNumbers
        cloneElement.childNodes[11].name = "certificate" + fieldNumbers
        qualification.insertBefore(cloneElement,button)
    }
    // function to remove unwanted field from work exprerience
    function removeWorkExperienceField(){
        try{
            var workexperience = document.getElementById('workexperience')
            var fieldNumbers = workexperience.childElementCount - 3;
            var childName = 'wfield' + fieldNumbers;
            var parent = document.getElementById('workexperience')
            var child = document.getElementById(childName)
            parent.removeChild(child)
        } catch(e){
            alert('There Must be At least One Field')
        }

    }

    function removeQualificationField(){
        try{
            var qualification = document.getElementById('qualification')
            var fieldNumbers = qualification.childElementCount - 3
            var childName = 'qfield' + fieldNumbers
            var child = document.getElementById(childName)
            qualification.removeChild(child)
        } catch(e){
            alert('There Must Be At Least One Field')
        }

    }

</script>


</html>
